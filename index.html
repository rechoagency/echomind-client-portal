<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoMind - Client Onboarding Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text">
                        EchoMind
                    </h1>
                    <span class="ml-3 text-sm text-gray-500">Reddit Marketing Intelligence</span>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="nav-dashboard" class="nav-btn px-4 py-2 rounded-lg text-gray-700 hover:bg-blue-50 transition active">
                        Dashboard
                    </button>
                    <button id="nav-add-client" class="nav-btn px-4 py-2 rounded-lg text-gray-700 hover:bg-blue-50 transition">
                        Add New Client
                    </button>
                    <button id="nav-troubleshoot" class="nav-btn px-4 py-2 rounded-lg text-gray-700 hover:bg-blue-50 transition">
                        Troubleshooting
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Dashboard View -->
        <div id="dashboard-view" class="view active">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Welcome to EchoMind</h2>
                <p class="text-gray-600">Intelligent Reddit marketing automation for your clients</p>
            </div>

            <!-- System Status -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-500">Backend Status</p>
                            <p id="backend-status" class="text-2xl font-bold text-gray-900">Checking...</p>
                        </div>
                        <div id="status-icon" class="text-4xl">‚öôÔ∏è</div>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-500">Active Clients</p>
                            <p id="active-clients" class="text-2xl font-bold text-blue-600">0</p>
                        </div>
                        <div class="text-4xl">üë•</div>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-500">Active Campaigns</p>
                            <p id="active-campaigns" class="text-2xl font-bold text-purple-600">0</p>
                        </div>
                        <div class="text-4xl">üöÄ</div>
                    </div>
                </div>
            </div>

            <!-- Clients List -->
            <div class="bg-white rounded-lg shadow">
                <div class="p-6 border-b border-gray-200">
                    <h3 class="text-xl font-semibold text-gray-900">Client List</h3>
                </div>
                <div id="clients-list" class="p-6">
                    <p class="text-gray-500 text-center py-8">No clients onboarded yet. Click "Add New Client" to get started!</p>
                </div>
            </div>
        </div>

        <!-- Add Client View -->
        <div id="add-client-view" class="view">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Onboard New Client</h2>
                <p class="text-gray-600">Complete all sections to set up intelligent Reddit marketing for your client</p>
            </div>

            <form id="client-form" class="bg-white rounded-lg shadow p-6 space-y-6">
                <!-- Section 1: Basic Info -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">1. Basic Information</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Client Name *</label>
                            <input type="text" name="client_name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Acme Corp">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Industry *</label>
                            <input type="text" name="industry" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="SaaS, E-commerce, etc.">
                        </div>
                    </div>
                </div>

                <!-- Section 2: Product Info -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">2. Product Information</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Product Name *</label>
                            <input type="text" name="product_name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="ProjectPro">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Product Description *</label>
                            <textarea name="product_description" required rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Describe what the product does, key features, and unique value proposition..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Target Subreddits -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">3. Target Subreddits</h3>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Subreddits (comma-separated) *</label>
                        <input type="text" name="target_subreddits" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="r/SaaS, r/startups, r/entrepreneur">
                        <p class="text-sm text-gray-500 mt-2">Enter 5-15 subreddits where your target audience is active</p>
                    </div>
                </div>

                <!-- Section 4: Keywords & Topics -->
                <div class="border-b border-gray-200 pb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">4. Keywords & Topics</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Target Keywords *</label>
                            <input type="text" name="target_keywords" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="project management, team collaboration, productivity">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Excluded Topics</label>
                            <input type="text" name="excluded_topics" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="crypto, gaming, politics">
                            <p class="text-sm text-gray-500 mt-2">Topics to avoid mentioning</p>
                        </div>
                    </div>
                </div>

                <!-- Section 5: Contact & Notifications -->
                <div class="pb-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">5. Contact & Notifications</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Contact Email *</label>
                            <input type="email" name="contact_email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="john@acmecorp.com">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Slack Webhook URL</label>
                            <input type="url" name="slack_webhook" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://hooks.slack.com/services/...">
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="flex items-center justify-between pt-6">
                    <button type="button" id="cancel-btn" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">
                        Cancel
                    </button>
                    <button type="submit" class="px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition">
                        Onboard Client
                    </button>
                </div>
            </form>
        </div>

        <!-- Troubleshooting View -->
        <div id="troubleshoot-view" class="view">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-2">Troubleshooting & Help</h2>
                <p class="text-gray-600">Common issues and solutions</p>
            </div>

            <div class="space-y-6">
                <!-- Backend Connection -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">üîå Backend Connection Issues</h3>
                    <div class="space-y-3">
                        <p class="text-gray-700"><strong>Problem:</strong> "API connection error" or "Backend not available"</p>
                        <p class="text-gray-700"><strong>Solution:</strong></p>
                        <ol class="list-decimal list-inside space-y-2 text-gray-600 ml-4">
                            <li>Check if backend is deployed and running</li>
                            <li>Verify API URL in <code class="bg-gray-100 px-2 py-1 rounded">js/app.js</code> line 4</li>
                            <li>Ensure backend URL ends with <code class="bg-gray-100 px-2 py-1 rounded">/api</code></li>
                            <li>Test backend health endpoint: <code class="bg-gray-100 px-2 py-1 rounded">GET /api/health</code></li>
                        </ol>
                    </div>
                </div>

                <!-- Client Not Appearing -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">üë• Client Not Appearing After Onboarding</h3>
                    <div class="space-y-3">
                        <p class="text-gray-700"><strong>Possible Causes:</strong></p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 ml-4">
                            <li>Backend connection failed during submission</li>
                            <li>Database connection issue</li>
                            <li>Required field validation error</li>
                        </ul>
                        <p class="text-gray-700"><strong>Solution:</strong> Check browser console (F12) for error messages</p>
                    </div>
                </div>

                <!-- Reddit Automation Not Working -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h3 class="text-xl font-semibold text-gray-900 mb-4">ü§ñ Reddit Automation Not Working</h3>
                    <div class="space-y-3">
                        <p class="text-gray-700"><strong>Check these items:</strong></p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600 ml-4">
                            <li>Reddit API credentials configured in backend</li>
                            <li>Celery workers are running (background tasks)</li>
                            <li>Redis is connected (task queue)</li>
                            <li>Target subreddits are valid and accessible</li>
                        </ul>
                    </div>
                </div>

                <!-- Contact Support -->
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-blue-900 mb-2">üí¨ Still Need Help?</h3>
                    <p class="text-blue-800">Contact your EchoMind administrator for additional support.</p>
                </div>
            </div>
        </div>
    </main>

    <script src="js/app.js"></script>
</body>
</html>
